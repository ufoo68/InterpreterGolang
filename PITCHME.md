### GO言語でつくるインタプリタ

O'reillyの本を読んで学んだこと

---

### 本の紹介

+++  

「WRITING AN INTERPRETER IN GO」の翻訳版  
タイトルのとおり、実際にGO言語を用いてインタプリタを作成していく

+++  

本書でつくる言語は「Monkey」という独自のプログラミング言語  
以下のような特徴を持つ  

- 整数・文字列・真偽値
- 四則演算
- 組み込み関数
- 配列・ハッシュデータ型
- 変数宣言
- 自作関数

+++

#### 注意

ここから先はこの本を読んで学習したことをスライドに私なりの解釈や理解をまとめています  
もしかしたら間違った理解が書かれているかもしれません(間違いの部分の方が多いかもしれません)  
その辺を了承してもらったうえでスライドを軽く読んでもらって、この本を手に取ってもらうきっかけにでもなればいいなと思います  

---

### インタプリタのしくみ

+++  

REPLという対話式実行環境を用いてソースコードを解析する。また、この名称は  

- Read(読み込み)
- Evaluate(評価)
- Print(表示)
- Loop(繰り返し)

の各略称の総称である

+++  

インタプリタが備えるパーツは

- 字句解析(Lexer)
- 構文解析(Parser)
- 抽象構文木(AST)
- 内部オブジェクトシステム(Object)
- 評価器(Evaluator)

---

### 字句解析(Lexer)

+++

「ソースコード」という文字列の集まりから「トークン」という意味のある文字(リテラル)の集まりへ変換する  

+++

#### 例

10 == 10  
{Type:INTEGER Literal:10}
{Type:EQ Literal:==}
{Type:INTEGER Literal:10}

+++  

ここで行う処理はソースコードの内容理解ではなく、文字のあつまりをトークンの集まりに変換すること  
手法としては「有限オートマトン」を用いている(多分)  

---

### 構文解析

+++

トークン列を入力として、Abstract Syntax Tree (抽象構文木：AST)をつくる  
構文解析の手法は「トップダウン演算子順位解析(Pratt構文解析)」を用いている  

+++

ASTでは主に以下の2種類のノードを用いる  

- 文(Statement)
- 式(Expression)

式は値を生成し、文は生成しない(この辺の理解は本を読んだ方がいいかも)

+++

#### 例

let x = 5;  
  {Program}─{LetStatement}─{Identifier:x}
                          └{Expression}─{IntegerLiteral:5}

---

### 評価

+++



---

### まとめ
